@model IEnumerable<WebApiDemo.Models.StudentData>

@{
    ViewBag.Title = "Index";
}

<head>
    <meta charset="utf-8">
    <title>Mini Project</title>
    

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/jStorage/0.4.12/jstorage.min.js"></script>


</head>
      
<body>
    <h2>Index</h2>

    <p>
        @Html.ActionLink("Create New", "Create")
    </p>

    <div class="row">
        <div class="col-md-1"></div>
        <div class="col-md-8">
            <table id="showDetails" border="1">
                <tr>
                    <th>Class</th>
                    <th>Name</th>
                    <th>StudentID</th>

                </tr>
                <tbody></tbody>
            </table>
        </div>

    </div>
</body>    

<script>
   
    $(document).ready(function () {
        $.ajax({
            url: "http://localhost:49484/api/values?pageNumber=1",
            type: "Get",
            success: function (data) {
                console.log(data[0].StudentID);
                for (var i = 0; i < data.length; i++) {
                    ShowRecords(data[i]);
                }
            },
            error: function (msg) { alert(msg); }
        });
    });    

    function ShowRecords(record) {
        //console.log("In ShowRecords",record)

      //  $("#showDetails").append(record);

								
    }

</script>